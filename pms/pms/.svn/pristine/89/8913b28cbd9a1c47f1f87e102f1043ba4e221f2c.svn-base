<%@ page contentType="text/html; charset=utf-8" session="true" pageEncoding="utf-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" dir="ltr"
	lang="utf-8">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<jsp:include page="/invalids/browser-detect.html"></jsp:include>

<title>Mobile CNC - Administration</title>
<link rel="shortcut icon"
	href="<c:url value='/images/icon/projects.png'/>" />
<link rel="stylesheet" href="<c:url value='/css/template.css'/>"
	type="text/css" />
<link rel="stylesheet" href="<c:url value='/css/pms.css'/>"
	type="text/css" />
<link rel="stylesheet"
	href="<c:url value='/css/jquery-ui-1.8.21.custom.css'/>"
	type="text/css" />
<link rel="stylesheet" href="<c:url value='/css/ui.selectmenu.css'/>"
	type="text/css" />
<link rel="stylesheet" href="<c:url value='/css/ui.jqgrid.css'/>"
	type="text/css" />
<link rel="stylesheet" href="<c:url value='/css/searchFilter.css'/>"
	type="text/css" />
<link rel="stylesheet" href="<c:url value='/css/ui.multiselect.css'/>"
	type="text/css" />
<link rel="stylesheet" href="<c:url value='/css/chosen.css'/>"
	type="text/css" />
<link rel="stylesheet"
	href="<c:url value='/css/validationEngine.jquery.css'/>"
	type="text/css" />
<link rel="stylesheet"
	href="<c:url value='/css/select2.css'/>"
	type="text/css" />
<script src="<c:url value='/js/jquery-1.7.2.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/jquery-ui-1.8.21.custom.min.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/jquery.ui.datepicker-${pageContext.response.locale}.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/ui.selectmenu.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/jquery.jqGrid.min.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/plugins/grid.addons.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/plugins/grid.postext.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/plugins/grid.setcolumns.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/plugins/jquery.contextmenu.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/plugins/jquery.searchFilter.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/plugins/jquery.tablednd.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/plugins/ui.multiselect.js'/>"
	type="text/javascript"></script>

<script src="<c:url value='/js/chosen.jquery.min.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/jquery.validationEngine.js'/>"
	type="text/javascript"></script>
<script	src="<c:url value='/js/languages/jquery.validationEngine-${pageContext.response.locale}.js'/>"></script>	
<script src="<c:url value='/js/plugins/i18n/grid.locale-${pageContext.response.locale}.js'/>"></script>
<script src="<c:url value='/js/autoNumeric-1.7.5.js' />" type="text/javascript"></script>
<%-- <script src="<c:url value='/js/highchart/js/highcharts.js'/>"
	type="text/javascript"></script> --%>
<script src="<c:url value='/js/highchart/js/highstock.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/highchart/js/modules/exporting.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/select2.js'/>"
	type="text/javascript"></script>
<script src="<c:url value='/js/jquery.form.js'/>" type="text/javascript"></script>
<script src="<c:url value='/js/date.js'/>" type="text/javascript"></script>
<script src="<c:url value='/js/textbox-blink.js'/>" type="text/javascript"></script>
<script src="<c:url value='/js/extends.js'/>" type="text/javascript"></script>
<script src="<c:url value='/js/function-${pageContext.response.locale}.js'/>" type="text/javascript"></script>

<!--

// Firebug script
 
<script type='text/javascript' src='http://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js'></script>
 -->
<script type="text/javascript">	
	$(function() {
		
		$(window).bind('resize', function() {
		    $("div.adminform form table").setGridWidth($(".adminform").width()-18);
		}).trigger('resize');
		
		$('.red').parent().css({
			'position' : 'absolute',
			'padding-left' : '11px'
		});
		$('.red').css({
			'position' : 'absolute',
			'top' : '8px',
			'left' : '0px'
		});

        $(".about").click(function (e)
        {
            ShowDialog(true);
            e.preventDefault();
        });

        $("#btnClose").click(function (e)
        {
            HideDialog();
            e.preventDefault();
        });

	});
	$(window).load(function() {
		setInterval(chkh, 2000);
	});
	

    function ShowDialog(modal)
    {
        $("#web_overlay").show();
        $("#web_about").fadeIn(300);

        if (modal)
        {
            $("#web_overlay").unbind("click");
        }
        else
        {
            $("#web_overlay").click(function (e)
            {
                HideDialog();
            });
        }
    }

    function HideDialog()
    {
        $("#web_overlay").hide();
        $("#web_about").fadeOut(300);
    } 
	function chkh() {
		/* if (window.console
				&& (window.console.firebug || window.console.exception)) {
			window.location = "";
		} */
	}
	
	
	
	// cookies pages
	function setCookie(cname, cvalue) {
	    document.cookie = cname + "=" + cvalue + "; path=/";
	}
	
	function getCookie(cname) {
	    var name = cname + "=";
	    var ca = document.cookie.split(';');
	    for(var i=0; i<ca.length; i++) {
	        var c = ca[i];
	        while (c.charAt(0)==' ') c = c.substring(1);
	        if (c.indexOf(name) != -1) return c.substring(name.length,c.length);
	    }
	    
	    return "";
	}
	
	function deleteAllCookies() {
		document.cookie = "pageNumber=-1; path=/";
		document.cookie = "action=-1; path=/";
		document.cookie = "fieldValue=; path=/";
		document.cookie = "fieldName=; path=/";
		
	}
	
	function getPageNumber(cname){
		if(getCookie("action") == "delete"){
			var temp = getCookie("pageNumber");
			deleteAllCookies();
			return temp;
		}
			
		return "1";
	}
	
	function deleteAllOption(){
		document.cookie = "fieldValue=; path=/";
		document.cookie = "fieldName=; path=/";
	}

/* 	if (!('console' in window) || !('firebug' in console)) {
		var names = [ 'log', 'debug', 'info', 'warn', 'error', 'assert', 'dir',
				'dirxml', 'group', 'groupEnd', 'time', 'timeEnd', 'count',
				'trace', 'profile', 'profileEnd' ];
		window.console = {};
		for ( var i = 0; i < names.length; ++i)
			window.console[names[i]] = function() {
			
				alert("");
			};
	} */
</script>

</head>
<body id="minwidth-body">
	<div id="border-top" class="h_blue">
		<div class="logo">
			<div class="flag">
				<a href="?language=en">
					<img src="<c:url value='/images/icon/en.png'/>" width="18px"
					alt="English" />
				</a>
				<a href="?language=ko_KR">
					<img src="<c:url value='/images/icon/kr.png'/>" width="18px
					alt="Korean" />
				</a>
				<a href="?language=kh">
					<img src="<c:url value='/images/icon/kh.png'/>" width="18px
					alt="Korean" />
				</a>
			</div>
			<div>
				<a href="http://www.mcnc.co.kr/"
				target="_blank"><img src="<c:url value='/images/main/logo.gif'/>"
					alt="mobilec&c" />
				</a>
			</div>
		</div>
		<span class="title"><a href="<c:url value='/main.html' />"><spring:message code="common.title"/></a></span>
	</div>
	<div id="header-box">
		<div id="module-status">
			<c:choose>
				<c:when test="${not empty currentUser}">
					<span class="backloggedin-users"><a href="<c:url value='/user/my-profile.html' />">${currentUser}</a></span> 
					<span class="logout"><a href="<c:url value='/user/logout.html' />"><spring:message code='menu.logout' /></a></span>				
				</c:when>
				<c:otherwise>
					<span class="menu-login"><a href="<c:url value='/user/login.html' />"><spring:message code='menu.login' /></a></span>
				</c:otherwise>
			</c:choose>
			
		</div>
		<div id="module-menu">
			<ul id="menu">
				<li class="node"><a href="<c:url value='/main.html' />">PMS</a>
					<ul>
						<li><a class="icon-16-cpanel"
							href="<c:url value='/main.html' />"><spring:message code='menu.control_panel' /></a></li>
						<li class="separator"><span></span></li>
						<li><a class="icon-16-profile"
							href="<c:url value='/user/my-profile.html' />"><spring:message code='menu.my_profile' /></a></li>
						<li class="separator"><span></span></li>
						<li class=""><a class="icon-16-skill"
							href="<c:url value='/users/index.html' />"><spring:message code='menu.user' /></a></li>
							<li class="separator"><span></span></li>
						<li><a class="icon-16-groups"
							href="<c:url value='/roles/index.html' />"><spring:message code='menu.role_authorities' /></a></li>
						<li class="separator"><span></span></li>
						<li><a class="icon-16-logout"
							href="<c:url value='/user/logout.html' />"><spring:message code='menu.logout' /></a></li>
					</ul></li>
				<li class="node"><a
					href="<c:url value='/projects/index.html' />"><spring:message code='lbl.project_management'/></a>
					<ul>
						<li><a class="icon-16-newarticle"
							href="<c:url value='/projects/add.html'/>"><spring:message code='lbl.add_new_project'/></a></li>
						<li class=""><a class="icon-16-article"
							href="<c:url value='/projects/index.html' />"><spring:message code='lbl.project_management'/></a></li>
						<li class=""><a class="icon-16-closed" href="<c:url value='/projects/projectClose.html' />"><spring:message code='lbl.project_closing'/></a></li>
						<li class="separator"><span></span></li>
					</ul></li>
				<li class="node"><a href="#"><spring:message code="menu.project_time_card"/></a>
					<ul>
						<li class=""><a class="icon-16-media"
							href="<c:url value='/time-cards/entry.html' />"><spring:message code="legend.time_card.entry"/></a></li>
						<li class=""><a class="icon-16-clear"
							href="<c:url value='/time-cards/unsubmit.html' />"><spring:message code="legend.time_card.unsubmit"/></a></li>
					</ul></li>
				<li class="node"><a href="#"><spring:message code='menu.hr_management' /></a>
					<ul>
						<li class=""><a class="icon-16-user"
							href="<c:url value='/employees/index.html' />"><spring:message code='lbl.employee'/></a></li>
						<li class=""><a class="icon-16-user"
							href="<c:url value='/contractors/index.html' />"><spring:message code='lbl.contractor'/></a></li>
						<li class=""><a class="icon-16-groups"
							href="<c:url value='/teams/index.html' />"><spring:message code='th.team' /></a></li>
					</ul></li>
				<li class="node"><a href="#"><spring:message code='menu.misc_management' /></a>
					<ul>
						<li class=""><a class="icon-16-contact"
							href="<c:url value='/customers/index.html' />"><spring:message code='lbl.customer' /></a></li>
						<li class=""><a class="icon-16-featured"
							href="<c:url value='/project-types/index.html' />"><spring:message code='th.project_type' /></a></li>
						<li class=""><a class="icon-16-skill"
							href="<c:url value='/skills/index.html' />"><spring:message code='th.skill' /></a></li>
						<li class=""><a class="icon-16-company"
							href="<c:url value='/companies/index.html' />"><spring:message code='lbl.company' /></a></li>
						<li class=""><a class="icon-16-title"
							href="<c:url value='/titles/index.html' />"><spring:message code='th.title' /></a></li>
						<li class=""><a class="icon-16-reason"
							href="<c:url value='/unsubmit-reasons/index.html' />"><spring:message code='menu.unsubmit_reason' /></a></li>

					</ul></li>
				<li class="node"><a href="#"><spring:message code='menu.report' /></a>
					<ul>
						<li><a class="icon-16-article" href="<c:url value='/projects/project-report.html' />"><spring:message code='menu.project_report' /></a></li>
						<li><a class="icon-16-user" href="<c:url value='/employees/report.html' />"><spring:message code='menu.hr_report'/></a></li>
						<li class="node"><a class="icon-16-media-preview" href="<c:url value='/time-cards/reportEmployee.html' />"><spring:message code="legend.time_card" /></a>
							<ul id="menu-com-contact" class="menu-component">
                                 <li><a class="icon-16-employee-preview" href="<c:url value='/time-cards/reportEmployee.html' />"><spring:message code="menu.of_employee" /></a></li>
                                 <li><a class="icon-16-calendar-preview" href="<c:url value='/time-cards/reportEmployeePeriod.html' />"><spring:message code="menu.daily" /></a></li>
                                 <li><a class="icon-16-article-preview" href="<c:url value='/time-cards/reportTimeCardOfProject.html' />"><spring:message code="menu.of_project" /></a></li>
                                 <li><a class="icon-16-team-preview" href="<c:url value='/time-cards/reportTimeCardOfTeam.html'/>" ><spring:message code="menu.of_team" /></a></li>
                                 <li><a class="icon-16-rdcenter-preview" href="#"><spring:message code="menu.by_rd_center" /></a></li>
                                 <li><a class="icon-16-money-preview" href="<c:url value='/time-cards/reportTimeCardByBillable.html' />"><spring:message code="menu.by_billable_type" /></a></li>
                                 <li><a class="icon-16-money-preview" href="<c:url value='/time-cards/reportTimeCardDetail.html' />">TimeCard Detail</a></li>
                            </ul>
						</li>
					</ul></li>
				<li class="node"><a href="#"><spring:message code='menu.setting' /></a>
					<ul>
						<li><a class="icon-16-article" href="#"><spring:message code='lbl.project_list' /></a></li>
						<li><a class="icon-16-themes" href="#"><spring:message code='menu.report_list' /></a></li>
						<li><a class="icon-16-massmail" href="#"><spring:message code='menu.alarm_setting' /></a></li>
						<li><a class="icon-16-calendar-preview" href="<c:url value='/calender/index.html'/>"><spring:message code='menu.holiday_setting' /></a></li>
					</ul></li>
				<li class="node"><a href="<c:url value='/usermanual.html' />"><spring:message code='menu.help' /></a>
					<ul>
						<li><a class="icon-16-help" href="<c:url value='/usermanual.html' />"><spring:message code='menu.how_to_use' /></a></li>
						<li><a class="icon-16-messages-read" href="<c:url value='/contact.html' />" ><spring:message code='menu.support_contact' /></a></li>
						<li><a class="icon-16-language about" href="#" target="_blank"><spring:message code='menu.about' /></a></li>
					</ul></li>
			</ul>
		</div>
		<div class="clr"></div>
	</div>
	<div id="content-box">
		<div id="element-box">
			<div id="system-message-container"></div>
			<c:if test="${message.isMessage && message.isAlert == false}">
				<div class="message-alert">
					<c:choose>
						<c:when test="${message.isValid}">
							<div class="message-valid">
								<img src="<c:url value='/images/icon/tick.png' />" alt=""
									align="absmiddle" />${message.message}
							</div>
						</c:when>
						<c:otherwise>
							<div class="message-invalid">
								<img src="<c:url value='/images/icon/error.png' />" alt=""
									align="absmiddle" />${message.message}
							</div>
						</c:otherwise>
					</c:choose>
				</div>
			</c:if>
			<div class="message-information message-alert" style="display: none;">
				<div class="message-valid">
					<img src="<c:url value='/images/icon/tick.png' />" alt=""
						align="absmiddle" /> <span></span>
				</div>
			</div>
			<div class="m">
				<c:choose>
					<c:when test="${not empty exception.page}">
						<jsp:include page="../${exception.page}.jsp" />
					</c:when>
					<c:otherwise>
						<jsp:include page="../${page}.jsp" />
					</c:otherwise>
				</c:choose>
			</div>
		</div>
	</div>
	<p align="center"><spring:message code="common.title.footer"/></p>
	<div id="footer"></div>
	<div id="dialog"></div>
	<div id="loading">
		<img align="middle" alt="Loading ...."
			src="<c:url value='/images/icon/secure-load.gif' />" />
	</div>
	<div class="message-centered" style="display: none;"></div>
	<jsp:include page="../default/about.jsp" />    
	<script type="text/javascript">
		$(function() {
			$('.chzn-done').removeAttr('style');
			$('.chzn-done').css({
				'height' : '0px',
				'visibility' : 'hidden',
				'position' : 'absolute',
				'padding' : '0px',
				'margin' : '5px 0 0 0'
			});
			$(".select2-container").next().css({
				'height' : '0px',
				'visibility' : 'hidden',
				'position' : 'absolute',
				'padding' : '0px',
				'display' : 'inherit', 
			});
			$('.combobox .chzn-container').css("top", "5px");

			$(".none-overide").css("position", "relative");
			$(".none-overide .red").css({
				"position" : "relative",
				"padding-right" : "5px"
			});
			$(".none-overide input").css("float", "right");
		});
	</script>
</body>
</html>
